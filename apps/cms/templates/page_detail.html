{% extends 'base.html' %}
{% load static %}

{% block title %}{{ page.title }} - CMS - EMIS{% endblock %}

{% block main_class %}with-sidebar{% endblock %}

{% block sidebar %}
{% include 'cms/sidebar.html' %}
{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto">
    <div class="flex justify-between items-center mb-6">
        <div>
            <h1 class="text-3xl font-bold text-gray-800 mb-2">{{ page.title }}</h1>
            <p class="text-gray-600">Page Details</p>
        </div>
        <div class="flex gap-2">
            <a href="{% url 'cms:page_update' page.pk %}" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                <i class="fas fa-edit mr-2"></i>Edit
            </a>
            <form method="post" action="{% url 'cms:page_delete' page.pk %}" class="inline" onsubmit="return confirm('Are you sure?');">
                {% csrf_token %}
                <button type="submit" class="inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700">
                    <i class="fas fa-trash mr-2"></i>Delete
                </button>
            </form>
        </div>
    </div>

    <div class="bg-white rounded-xl shadow-sm p-6 space-y-4">
        <div><h3 class="text-sm font-semibold text-gray-500 uppercase">Slug</h3><p class="text-gray-800 mt-1">{{ page.slug }}</p></div>
        <div><h3 class="text-sm font-semibold text-gray-500 uppercase">Status</h3><span class="px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full mt-1 {% if page.status == 'published' %}bg-green-100 text-green-800{% elif page.status == 'draft' %}bg-yellow-100 text-yellow-800{% else %}bg-gray-100 text-gray-800{% endif %}">{{ page.status }}</span></div>
        <div><h3 class="text-sm font-semibold text-gray-500 uppercase">Content</h3><div class="mt-2 prose max-w-none">{{ page.content|safe }}</div></div>
        {% if page.meta_description %}<div><h3 class="text-sm font-semibold text-gray-500 uppercase">Meta Description</h3><p class="text-gray-800 mt-1">{{ page.meta_description }}</p></div>{% endif %}
    </div>
    <div class="mt-6"><a href="{% url 'cms:page_list' %}" class="inline-flex items-center text-primary-600 hover:text-primary-700"><i class="fas fa-arrow-left mr-2"></i>Back to Pages</a></div>
</div>
{% endblock %}
